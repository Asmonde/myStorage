<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <p:tab title="Personnel"  >
        <h:form id="personnel">
            <center><h1></h1></center>
            <br/>
            <h:form id="ajoutPro">
                <p:commandButton value="Nouveau Personnel" onclick="PF('personnelAjout').show();" process="@form"  style="alignment-adjust:auto; font-family: cursive;"/> 
                <p></p>
                <p:dialog  responsive="true" fitViewport="true" positionType="absolute" minimizable="true" maximizable="true"  widgetVar="personnelAjout" closable="true" dynamic="true" showEffect="slide" hideEffect="clip" resizable="true" modal="true" minHeight="150" minWidth="150" width="800" position="center">    
                    <h:form id="form">
                        <p:growl id="growl" showSummary="true" life="4000"/>
                        <center>

                            <p:fieldset legend="Ajout d'un Personnel" style=" margin-left:10px ; color:#C8D9E2; margin-bottom:10px"   >
                                <br></br>
                                
                                <h:panelGrid id="wi"  columns="2" columnClasses="label, value" style="background-color: #F3F5F7;border-radius:10px ; width:100% ; margin-bottom:3%;alignment-adjust: auto;padding-left:3%;padding-bottom:5%  ">     
                                    <h:outputText/>
                                    <h:inputHidden value="#{PersonnelBean.personnel.id}"/>
                                    <p:outputLabel value="Nom:" for="nom" style="font-family: initial;font-size: large;font-style: inherit" />
                                    <p:inputText id="nom" required="true" requiredMessage="Entrer un Nom valide" placeholder="Renseigner votre nom"  value="#{PersonnelBean.personnel.nom}" style=" width: 500px;"/>
                                    <p:outputLabel value="Prénoms:" for="prenoms" style="font-family: initial;font-size: large;font-style: inherit" />
                                    <p:inputText id="prenoms" required="true" requiredMessage="Choisir un Prénom valide" placeholder="Renseigner votre Prénom"  value="#{PersonnelBean.personnel.prenom}" style=" width: 500px"/>
                                    <p:outputLabel value="Date de naissance:" for="date_naissance" style="font-family: initial;font-size: large;font-style: inherit" />
                                    <p:calendar id="date_naissance" maxdate="#{PersonnelBean.max()}" navigator="true" required="true" requiredMessage="Choisir une Date valide" pattern="dd/MM/yyyy" placeholder="Renseigner votre date de naissance"  title="date_naissance" value="#{PersonnelBean.personnel.datenaiss}"  size="73">
                                        <f:convertDateTime pattern="dd/MM/yyyy" />
                                    </p:calendar>
                                    <p:outputLabel value="Lieu de naissance:" for="lieu_naiss"  style="font-family: initial;font-size: large;font-style: inherit"/>
                                    <p:inputText id="lieu_naiss" placeholder="Renseigner votre Lieu de naissance" value="#{PersonnelBean.personnel.lieunaiss}" style=" width: 500px"/>
                                    <p:outputLabel value="Ville:" for="ville" style="font-family: initial;font-size: large;font-style: inherit" />
                                    <p:inputText id="ville" required="true" placeholder="Renseigner votre adresse"  requiredMessage="Saisir l'adresse" value="#{PersonnelBean.personnel.ville}" style=" width: 500px"/>
                                    <p:outputLabel value="Code Postal:" for="bp"  style="font-family: initial;font-size: large;font-style: inherit"/>
                                    <p:inputText id="bp" required="true" requiredMessage="Entrer une BP valide" placeholder="Renseigner votre Boite Postale" value="#{PersonnelBean.personnel.codepostal}" style=" width: 500px"/>
                                    <p:outputLabel value="Téléphone:" for="tel" style="font-family: initial;font-size: large;font-style: inherit" />
                                    <p:inputMask id="tel" mask="99 99 99 99" placeholder="Renseigner votre téléphone" required="true" requiredMessage="saisir le numéro de téléphone" value="#{PersonnelBean.personnel.telephone}" style=" width: 500px"/>
                                    <p:outputLabel value="Sexe:" style="font-family: initial;font-size: large;font-style: inherit"/>
                                    <p:selectOneRadio value="#{PersonnelBean.personnel.sexe}" style=" width: 500px" >
                                        <f:selectItem itemLabel="Masculin" itemValue="M"/>
                                        <f:selectItem itemLabel="Feminin" itemValue="F"/>
                                    </p:selectOneRadio>
                                    <p:outputLabel value="Situation Matrimoniale:" for="sit" style="font-family: initial;font-size: large;font-style: inherit" />
                                    <p:selectOneMenu id="sit" value="#{PersonnelBean.personnel.situationmatrimoniale}" 
                                                     required="true" requiredMessage="Choisir une situation valide"  converter="omnifaces.SelectItemsIndexConverter"  style=" width: 465px">  
                                        <f:selectItem itemLabel="choisir votre situation" itemValue="" />
                                        <f:selectItem itemLabel="Célibataire" itemValue="Célibataire" />
                                        <f:selectItem itemLabel="Marié(e)" itemValue="Marié(e)" />
                                        <f:selectItem itemLabel="Veuf(ve)" itemValue="Veuf(ve)" />
                                    </p:selectOneMenu>
                                    <p:outputLabel value="Email:" for="mail" style="font-family: initial;font-size: large;font-style: inherit" />
                                    <p:inputText id="mail"  placeholder="Renseigner votre E-mail" value="#{PersonnelBean.personnel.email}" style=" width: 500px">

                                    </p:inputText>
                                    <h:outputLabel  value="Poste:" for="poste"  style="font-family: initial;font-size: large;font-style: inherit"/>
                                    <p:selectOneMenu id="poste" value="#{PersonnelBean.personnel.poste}" 
                                                     required="true" requiredMessage="choisissez le Sexe"
                                                     converter="omnifaces.SelectItemsIndexConverter"  style=" width:465px">  
                                        <f:selectItem itemLabel="Choisissez votre Poste" noSelectionOption="true"/>
                                        <f:selectItem itemLabel="Technicien" itemValue="Technicien" />
                                        <f:selectItem itemLabel="Stagiaire" itemValue="Stagiaire" />
                                        <f:selectItem itemLabel="Chef Service" itemValue="Chef Service" />
                                        <f:selectItem itemLabel="Directeur de Département" itemValue="Directeur de Département" />
                                        <f:selectItem itemLabel="Assistant Directeur de Département" itemValue=" Assistant Directeur de Département" />
                                        <f:selectItem itemLabel="Commercial" itemValue="Commercial" />
                                        <f:selectItem itemLabel="Directeur Général" itemValue="Directeur Général" />
                                    </p:selectOneMenu>
<!--                                        <p:outputLabel value="Promotion:" for="prom" style="font-family: initial;font-size: large;font-style: inherit" />
                                        <p:selectOneMenu  id="prom" value="#{ProfesseurBean.promotion}"
                                                          filter="true" filterMatchMode="startsWith"
                                                          converter="omnifaces.SelectItemsIndexConverter" required="true" requiredMessage="veuillez choisir votre vague" style="font-family: initial;font-size: large;font-style: inherit;width:465px">
                                            <f:selectItem itemLabel=" Veuillez choisir la vague" noSelectionOption="true"/>
                                            <f:selectItems value="#{ProfesseurBean.prom}" var="typ" itemLabel="#{typ.libelle}" itemValue="#{typ}"/>
                                        </p:selectOneMenu>-->

                                </h:panelGrid>   
                              
                                <p:commandButton  class="Fs16 OrangeButton" icon="ui-icon-close fa fa-close Fs14 White" id="cancel" value="Annuler" actionListener="#{PersonnelBean.cancel(actionEvent)}" process="@form" style="right:1%" onclick="PF('personnelAjout').hide();"/>
                                <p:commandButton update="formule:tabe:personnel:afficheTabM:ajouTabM,growl" class="Fs16 GreenButton"  icon="ui-icon-check fa fa-check Fs14 White" id="ajouter" value="Ajouter" actionListener="#{PersonnelBean.save(actionEvent)}" process="@form" style="left:1%" onclick="PF('personnelAjout').hide();">
                                       <p:confirm header="Confirmation" message="Voulez vous vraiment enrégistrer ce professeur?" icon="ui-icon-alert" />
                                        </p:commandButton>
                                 
                                    <p:confirmDialog global="true" showEffect="fade" hideEffect="explode">
                                            <p:commandButton value="OUI" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                                            <p:commandButton value="Non" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                                        </p:confirmDialog>
                            </p:fieldset>    
                        </center>
                    </h:form>
                </p:dialog>
            </h:form>
            <h:form id="afficheTabM">
                <p:growl id="gwl" showSummary="true" life="4000"/>
                <p:contextMenu for="ajouTabM" >
                    <p:menuitem  style="color: #00AEEF"   value="modifier" process="@form" update=":formule:tabe:personnel:ajoutPro:form:wi" actionListener="#{PersonnelBean.getObject(missione.id)}"  title="Editer" onclick="PF('personnelAjout').show();" id="Editer"/>
                </p:contextMenu>
                <p:dataTable  value="#{PersonnelBean.personnels}" var="missione" id="ajouTabM"
                              emptyMessage="Personnel non trouvé" paginator="true" rows="5"
                              paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks}
                              {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                              rowsPerPageTemplate="2,5,10,15"
                              rowKey="#{missione.id}" selection="#{missione}" scrollable="true" selectionMode="single" reflow="true"  
                              style="border-color: #00AEEF" >
                    <f:facet name="header">
                        <h:outputText value="LISTE DES Personnels"/>
                    </f:facet>

                    <p:column headerText="Nom" filterBy="#{missione.nom}" filterMatchMode="contains">
                        <h:outputText value="#{missione.nom}"/>
                    </p:column>
                    <p:column headerText="Prénoms" filterBy="#{missione.prenom}" filterMatchMode="contains">
                        <h:outputText value="#{missione.prenom}"/>
                    </p:column>

                    <p:column headerText="Sexe" filterBy="#{missione.sexe}" filterMatchMode="contains" >
                        <h:outputText value="#{missione.sexe}"/>
                    </p:column>
                    <p:column headerText="Ville de résidence" filterBy="#{missione.ville}" filterMatchMode="contains" >
                        <h:outputText value="#{missione.ville}"/>
                    </p:column>
                    <p:column headerText="Email" filterBy="#{missione.email}" filterMatchMode="contains" >
                        <h:outputText value="#{missione.email}"/>
                    </p:column>
                    <p:column headerText="Poste" filterBy="#{missione.poste}" filterMatchMode="contains" >
                        <h:outputText value="#{missione.poste}"/>
                    </p:column>

                </p:dataTable>
            </h:form>
                       
            </h:form>
       
    </p:tab>

</ui:composition>